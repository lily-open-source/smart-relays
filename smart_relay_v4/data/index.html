<!DOCTYPE html>
<html>
<head>
  <title>Smart Relay Control</title>
  <style>
    .relay-box {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .relay-label {
      flex: 1;
      margin-right: 10px;
      font-weight: bold;
    }

    .relay-toggle {
      flex: 0;
    }
  </style>
</head>
<body>
  <h1>Smart Relay Control</h1>

  <div class="relay-box">
    <div class="relay-label">Relay 1:</div>
    <div class="relay-toggle">
      <input type="checkbox" id="relay1-toggle" onchange="toggleRelay(1)">
    </div>
  </div>

  <div class="relay-box">
    <div class="relay-label">Relay 2:</div>
    <div class="relay-toggle">
      <input type="checkbox" id="relay2-toggle" onchange="toggleRelay(2)">
    </div>
  </div>

  <div class="relay-box">
    <div class="relay-label">Relay 3:</div>
    <div class="relay-toggle">
      <input type="checkbox" id="relay3-toggle" onchange="toggleRelay(3)">
    </div>
  </div>

  <div class="relay-box">
    <div class="relay-label">Relay 4:</div>
    <div class="relay-toggle">
      <input type="checkbox" id="relay4-toggle" onchange="toggleRelay(4)">
    </div>
  </div>

  <script>
    // Function to toggle the state of a relay
    function toggleRelay(relayNumber) {
      const checkbox = document.getElementById(`relay${relayNumber}-toggle`);
      const newState = checkbox.checked ? 1 : 0;
      const topic = `<?php echo AIO_USERNAME; ?>/feeds/relay${relayNumber}`;
      const message = `${newState}`;
      client.publish(topic, message);
    }
  </script>
</body>
</html>
